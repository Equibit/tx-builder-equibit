const { decodeTx } = require('../src/tx-decoder-equibit')
const Buffer = require('safe-buffer').Buffer

// const txHex = '0100000001ca5f3a9c129f575a2a45d3815e6bb5c8477c5ca950d452a6b1d4146b7b23b0d7000000006a47304402203a32aa1d6a542f49d8a68f4c99ab10f14ac7cbba37d8b0e93ae7ba0b08d1165e02201ad6597df7b3c42163901c86e1e849e6cb5c4a7602c758d92f2ac4e508a58952012103a6afa2211fc96a4130e767da4a9e802f5e922a151c5cd6d4bffa80358dd1f9a3feffffff0200e1f505000000001976a914bcf5f8cbef57fb5d1794eb626a7752e31d1b2aab88ac00000000000000000000000000000000000000000000000000000000000000000000000000f0f00c8f000000001976a9143c8710460fc63d27e6741dd1927f0ece41e9b55588ac0000000000000000000000000000000000000000000000000000000000000000000000000068000000'
const txHex = '02000000010000000000000000000000000000000000000000000000000000000000000000ffffffff03530101ffffffff0200f2052a01000000232102cbc748cb298d80ee237e24b2e8dc9aa858defdd3f7d184b77b849acc1f77307dac0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000'
const buffer = Buffer.from(txHex, 'hex')

const decoded = decodeTx(buffer)

console.log(`decoded = ${JSON.stringify(decoded[0])}`)

// const d = {
//   'version': 2,
//   'vin': [{
//     'hash': '0000000000000000000000000000000000000000000000000000000000000000',
//     'index': 4294967295,
//     'scriptSig': {'type': 'Buffer', 'data': [83, 1, 1]},
//     'sequence': 4294967295
//   }],
//   'vout': [{
//     'value': 5000000000,
//     'script': {
//       'type': 'Buffer',
//       'data': [33, 2, 203, 199, 72, 203, 41, 141, 128, 238, 35, 126, 36, 178, 232, 220, 154, 168, 88, 222, 253, 211, 247, 209, 132, 183, 123, 132, 154, 204, 31, 119, 48, 125, 172]
//     },
//     'equibit': {
//       'payment_currency': 0,
//       'payment_tx_id': '0000000000000000000000000000000000000000000000000000000000000000',
//       'issuance_tx_id': '0000000000000000000000000000000000000000000000000000000000000000',
//       'payload': {'type': 'Buffer', 'data': []}
//     }
//   }, {
//     'value': 0,
//     'script': {
//       'type': 'Buffer',
//       'data': [106, 36, 170, 33, 169, 237, 226, 246, 28, 63, 113, 209, 222, 253, 63, 169, 153, 223, 163, 105, 83, 117, 92, 105, 6, 137, 121, 153, 98, 180, 139, 235, 216, 54, 151, 78, 140, 249]
//     },
//     'equibit': {
//       'payment_currency': 0,
//       'payment_tx_id': '0000000000000000000000000000000000000000000000000000000000000000',
//       'issuance_tx_id': '0000000000000000000000000000000000000000000000000000000000000000',
//       'payload': {'type': 'Buffer', 'data': []}
//     }
//   }],
//   'locktime': 0
// }
